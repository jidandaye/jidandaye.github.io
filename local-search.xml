<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>MySQL二进制安装步骤</title>
    <link href="/2020/07/28/ySQL%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E8%A3%85%E6%AD%A5%E9%AA%A4-1/"/>
    <url>/2020/07/28/ySQL%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E8%A3%85%E6%AD%A5%E9%AA%A4-1/</url>
    
    <content type="html"><![CDATA[<h1 id="MySQL-二进制安装步骤"><a href="#MySQL-二进制安装步骤" class="headerlink" title="MySQL 二进制安装步骤"></a>MySQL 二进制安装步骤</h1><h3 id="设置主机名和IP"><a href="#设置主机名和IP" class="headerlink" title="设置主机名和IP"></a>设置主机名和IP</h3><pre><code class="hljs shell">hostnamectl set-hostname db01</code></pre><h3 id="清理历史环境"><a href="#清理历史环境" class="headerlink" title="清理历史环境"></a>清理历史环境</h3><pre><code class="hljs shell">[root@db01 ~]# rpm -qa |grep mariadb[root@db01 ~]# yum remove mariadb-libs</code></pre><h3 id="创建用户和组"><a href="#创建用户和组" class="headerlink" title="创建用户和组"></a>创建用户和组</h3><pre><code class="hljs shell">[root@db01 ~]# useradd mysql -s /sbin/nologin[root@db01 ~]# id mysqluid=1001(mysql) gid=1001(mysql) 组=1001(mysql)[root@db01 ~]#</code></pre><h3 id="创建相关目录"><a href="#创建相关目录" class="headerlink" title="创建相关目录"></a>创建相关目录</h3><pre><code class="hljs shell">软件目录: mkdir -p /app/database/    数据目录: mkdir -p /data/3306/日志目录：mkdir -p /binlog/3306</code></pre><h3 id="设置权限"><a href="#设置权限" class="headerlink" title="设置权限"></a>设置权限</h3><pre><code class="hljs shell">[root@db01 /]# chown  -R mysql.mysql /app/ /data/ /binlog/</code></pre><h3 id="上传并解压、设置软连接"><a href="#上传并解压、设置软连接" class="headerlink" title="上传并解压、设置软连接"></a>上传并解压、设置软连接</h3><pre><code class="hljs shell">[root@db01 database]# tar xf mysql-5.7.28-linux-glibc2.12-x86_64.tar.gz [root@db01 database]# ln -s mysql-5.7.28-linux-glibc2.12-x86_64 mysql</code></pre><h3 id="设置环境变量"><a href="#设置环境变量" class="headerlink" title="设置环境变量"></a>设置环境变量</h3><pre><code class="hljs shell">[root@db01 database]# vim /etc/profile</code></pre><h3 id="添加一行"><a href="#添加一行" class="headerlink" title="添加一行"></a>添加一行</h3><pre><code class="hljs shell">export PATH=/app/database/mysql/bin:$PATH</code></pre><h3 id="生效配置"><a href="#生效配置" class="headerlink" title="生效配置"></a>生效配置</h3><pre><code class="hljs shell">source /etc/profile</code></pre><h3 id="初始化系统库表"><a href="#初始化系统库表" class="headerlink" title="初始化系统库表"></a>初始化系统库表</h3><pre><code class="hljs shell">[root@db01 ~]# mysqld --initialize-insecure --user=mysql --basedir=/app/database/mysql --datadir=/data/3306/</code></pre><p>#报错</p><pre><code class="hljs shell">[root@db01 app]# yum install -y libaio-devel</code></pre><p>#成功标志</p><pre><code class="hljs shell">===================初始化过程==============================[root@db01 ~]# mysqld --initialize-insecure --user=mysql --basedir=/app/database/mysql --datadir=/data/3306/2020-07-28T07:37:10.383182Z 0 [Warning] TIMESTAMP with implicit DEFAULT value is deprecated. Please use --explicit_defaults_for_timestamp server option (see documentation for more details).2020-07-28T07:37:10.517400Z 0 [Warning] InnoDB: New log files created, LSN=457902020-07-28T07:37:10.539858Z 0 [Warning] InnoDB: Creating foreign key constraint system tables.2020-07-28T07:37:10.597435Z 0 [Warning] No existing UUID has been found, so we assume that this is the first time that this server has been started. Generating a new UUID: 25867e9c-d0a5-11ea-bae9-000c2918bdc2.2020-07-28T07:37:10.605086Z 0 [Warning] Gtid table is not ready to be used. Table 'mysql.gtid_executed' cannot be opened.2020-07-28T07:37:11.083297Z 0 [Warning] CA certificate ca.pem is self signed.2020-07-28T07:37:11.206699Z 1 [Warning] root@localhost is created with an empty password ! Please consider switching off the --initialize-insecure option.</code></pre><p>#容易报错</p><pre><code class="hljs shell">=====================再次初始化============================[root@db01 app]# mysqld --initialize-insecure --user=mysql --basedir=/app/database/mysql --datadir=/data/3306/2020-07-28T07:44:12.518073Z 0 [Warning] TIMESTAMP with implicit DEFAULT value is deprecated. Please use --explicit_defaults_for_timestamp server option (see documentation for more details).2020-07-28T07:44:12.527858Z 0 [ERROR] --initialize specified but the data directory has files in it. Aborting.2020-07-28T07:44:12.527957Z 0 [ERROR] Aborting</code></pre><pre><code class="hljs shell">[root@db01 app]# rm -rf /data/3306/*   删除数据目录后再次进行初始化</code></pre><p>（1）mysqld –initialize<br>    1.会产生12位临时密码，必须重置后才能使用<br>    2.密码管理使用严格模式：3种密码复杂度</p><p>（2）mysqld –initialize-insecure<br>    空密码，根据实际情况设置密码复杂度</p><h3 id="设置配置文件"><a href="#设置配置文件" class="headerlink" title="设置配置文件"></a>设置配置文件</h3><pre><code class="hljs shell">cat &gt; /etc/my.cnf &lt;&lt;EOF[mysqld]user=mysqlbasedir=/app/database/mysqldatadir=/data/3306server_id=6port=3306socket=/temp/mysql.sock[mysql]socket=/temp/mysql.sockEOF[root@db01 app]# cat /etc/my.cnf</code></pre><h3 id="准备启动脚本，方便调用"><a href="#准备启动脚本，方便调用" class="headerlink" title="准备启动脚本，方便调用"></a>准备启动脚本，方便调用</h3><pre><code class="hljs shell">[root@db01 support-files]# cd /app/database/mysql/support-files[root@db01 support-files]# cp mysql.server /etc/init.d/mysqld</code></pre><h3 id="启动服务"><a href="#启动服务" class="headerlink" title="启动服务"></a>启动服务</h3><pre><code class="hljs shell">[root@db01 /]# service mysqld force-reload  reload        restart       start         status        stop  [root@db01 tmp]# mysql</code></pre>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>happy</title>
    <link href="/2020/07/24/happy/"/>
    <url>/2020/07/24/happy/</url>
    
    <content type="html"><![CDATA[<h3 id="标题"><a href="#标题" class="headerlink" title="标题"></a>标题</h3><hr><p><img src="/2020/07/24/happy/1.jpg" srcset="/img/loading.gif" alt="100"></p><p>DAFVDFV</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/2020/07/24/hello-world/"/>
    <url>/2020/07/24/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre><code class="hljs bash">$ hexo new <span class="hljs-string">"My New Post"</span></code></pre><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre><code class="hljs bash">$ hexo server</code></pre><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre><code class="hljs bash">$ hexo generate</code></pre><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre><code class="hljs bash">$ hexo deploy</code></pre><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
